@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap');

/* Copilot CLI Timeline Viewer - Dark Dev Tool Aesthetic */

@layer base {
  :root {
    --background: 220 20% 4%;
    --foreground: 220 20% 92%;
    
    --card: 220 18% 7%;
    --card-foreground: 220 20% 92%;
    
    --popover: 220 18% 7%;
    --popover-foreground: 220 20% 92%;
    
    --primary: 210 100% 66%;
    --primary-foreground: 220 20% 4%;
    
    --secondary: 220 16% 12%;
    --secondary-foreground: 220 20% 75%;
    
    --muted: 220 14% 14%;
    --muted-foreground: 220 14% 55%;
    
    --accent: 265 70% 65%;
    --accent-foreground: 220 20% 98%;
    
    --destructive: 0 72% 55%;
    --destructive-foreground: 0 0% 100%;
    
    --success: 158 64% 52%;
    --success-foreground: 158 64% 10%;
    
    --warning: 45 93% 58%;
    --warning-foreground: 45 93% 10%;
    
    --border: 220 16% 16%;
    --input: 220 16% 16%;
    --ring: 210 100% 66%;
    
    --radius: 0.75rem;
    
    /* Custom tokens */
    --panel: 220 18% 7%;
    --panel-2: 220 18% 5%;
    --line: 220 16% 18%;
    --line-2: 220 16% 24%;
    
    /* Badge colors */
    --badge-user: 195 100% 50%;
    --badge-assistant: 330 80% 72%;
    --badge-session: 265 70% 65%;
    --badge-tool: 210 100% 66%;
    --badge-info: 158 64% 52%;
    
    /* Fonts */
    --font-sans: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;
    --font-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  }

  .dark {
    --background: 220 20% 4%;
    --foreground: 220 20% 92%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html, body, #root {
    @apply h-full;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: var(--font-sans);
    background: 
      radial-gradient(1200px 600px at 10% -10%, hsl(210 100% 66% / 0.12), transparent 45%),
      radial-gradient(1200px 600px at 90% -20%, hsl(265 70% 65% / 0.10), transparent 50%),
      hsl(var(--background));
  }

  code, pre, .font-mono {
    font-family: var(--font-mono);
  }
}

@layer components {
  .panel {
    @apply bg-card border border-border rounded-2xl;
    box-shadow: 0 18px 50px rgba(0, 0, 0, 0.35);
  }
  
  .dropzone {
    @apply border border-dashed rounded-xl p-4 cursor-pointer transition-all;
    border-color: hsl(var(--primary) / 0.4);
    background: linear-gradient(
      135deg,
      hsl(var(--primary) / 0.08),
      transparent 45%,
      hsl(var(--accent) / 0.06)
    );
  }
  
  .dropzone:hover, .dropzone.dragover {
    border-color: hsl(var(--primary) / 0.6);
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.12);
  }
  
  .badge {
    @apply text-xs font-mono px-2 py-0.5 rounded-full border;
    background: hsl(var(--panel-2) / 0.9);
  }
  
  .badge-user {
    border-color: hsl(var(--badge-user) / 0.55);
    color: hsl(var(--badge-user) / 0.85);
  }
  
  .badge-assistant {
    border-color: hsl(var(--badge-assistant) / 0.55);
    color: hsl(var(--badge-assistant) / 0.85);
  }
  
  .badge-session {
    border-color: hsl(var(--badge-session) / 0.55);
    color: hsl(var(--badge-session) / 0.85);
  }
  
  .badge-tool {
    border-color: hsl(var(--badge-tool) / 0.55);
    color: hsl(var(--badge-tool) / 0.85);
  }
  
  .badge-info {
    border-color: hsl(var(--badge-info) / 0.55);
    color: hsl(var(--badge-info) / 0.85);
  }
  
  .event-row {
    @apply grid gap-3 px-4 py-3 border-b border-border/60 cursor-pointer transition-colors;
    grid-template-columns: 180px 1fr;
  }
  
  .event-row:hover {
    background: hsl(var(--primary) / 0.06);
  }
  
  .event-row.selected {
    background: hsl(var(--primary) / 0.12);
    outline: 2px solid hsl(var(--primary) / 0.35);
    outline-offset: -2px;
  }
  
  .segmented {
    @apply inline-flex border border-border rounded-full overflow-hidden;
    background: hsl(var(--panel) / 0.92);
  }
  
  .segmented button {
    @apply border-none px-3 py-2 bg-transparent text-muted-foreground cursor-pointer min-w-[70px] text-sm transition-colors;
  }
  
  .segmented button.active {
    background: hsl(var(--primary) / 0.16);
    @apply text-foreground;
  }
  
  .day-separator {
    @apply sticky top-0 z-10 px-4 py-2 text-xs text-muted-foreground border-y border-border;
    background: hsl(var(--panel) / 0.92);
    backdrop-filter: blur(6px);
  }
  
  .json-view {
    @apply font-mono text-xs leading-relaxed whitespace-pre-wrap break-words;
    color: hsl(var(--foreground) / 0.92);
  }
  
  .thinking-block {
    background: hsl(var(--accent) / 0.10);
    border: 1px solid hsl(var(--accent) / 0.30);
    @apply rounded-lg p-3 text-sm leading-relaxed;
  }
  
  .tool-block {
    background: hsl(var(--panel-2) / 0.85);
    @apply border border-border rounded-lg overflow-hidden;
  }
  
  .tool-header {
    background: hsl(var(--primary) / 0.12);
    @apply border-b border-border px-3 py-2 flex items-center gap-2 text-xs;
  }
  
  .tool-name {
    @apply font-semibold;
    color: hsl(var(--primary));
  }
}
